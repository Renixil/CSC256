*{box-sizing:border-box}
body{
  margin:0; min-height:100vh;
  font-family:Arial, Helvetica, sans-serif;
  background:#0f1115; color:#e9eef3;
}

/* Screens / Overlays */
.screen{
  position:fixed; inset:0; display:flex;
  align-items:center; justify-content:center;
  background:rgba(0,0,0,.78); z-index:900;
}
.hidden{display:none}

.panel{
  width:min(800px,90vw);
  background:#141823; border:1px solid #2a2f38;
  border-radius:12px; padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.5);
}
.panel h1,.panel h2{margin:0 0 12px}
.menu-buttons,.char-buttons{display:flex; gap:12px; flex-wrap:wrap}
.char-note{opacity:.8}

/* Buttons */
.ui-btn{
  background:#2b3241; color:#e9eef3; border:1px solid #3b4250;
  padding:10px 14px; border-radius:10px; cursor:pointer;
}
.ui-btn:hover{background:#31394c}
.ui-btn.danger{background:#5a2531;border-color:#7a2d3a}
.ui-btn.danger:hover{background:#6a2b3a}
.ui-btn.ghost{background:transparent}

/* HUD */
#top-ui{position:fixed; top:10px; left:10px; z-index:200}
#time-display{
  font-weight:600; margin-bottom:6px; padding:6px 10px;
  background:rgba(0,0,0,.55); border:1px solid #2a2f38; border-radius:6px;
}
#morality-bar{
  width:200px; height:14px; background:#2a2f38; border:1px solid #3b4250; border-radius:8px; overflow:hidden;
}
#morality-fill{height:100%; width:100%; background:linear-gradient(90deg,#27ae60,#2ecc71)}

#location-badge{
  position:fixed; top:10px; right:10px; z-index:200;
  background:rgba(0,0,0,.55); border:1px solid #2a2f38;
  padding:6px 10px; border-radius:6px;
}

/* Trust */
#companions-ui{
  position:fixed; top:80px; left:10px; z-index:200;
  width:220px; background:rgba(0,0,0,.55);
  border:1px solid #2a2f38; border-radius:10px; padding:10px 12px;
}
.ui-title{margin:0 0 8px; font-weight:700; font-size:14px}
.companion{
  background:#171a21; border:1px solid #2a2f38;
  padding:6px 8px; border-radius:6px; margin:6px 0; font-size:14px;
}

/* Scene */
#scene{
  position:fixed; top:80px; left:240px; right:240px; bottom:200px;
  display:flex; align-items:center; justify-content:center;
  border:1px solid #2a2f38; border-radius:12px; overflow:hidden; background:#0b0e14; z-index:100;
}
#scene-img{width:100%; height:100%; object-fit:cover; opacity:.9}

/* Dialogue */
#dialogue-box{
  position:fixed; left:240px; right:240px; bottom:20px; z-index:150;
  background:rgba(0,0,0,.78); border:1px solid #2a2f38; border-radius:12px; padding:16px;
}
#dialogue-text{margin:0 0 10px; min-height:50px; line-height:1.4}
#choices{display:flex; flex-direction:column; gap:8px}
#choices button{
  text-align:left; padding:10px 12px; border-radius:8px;
  background:#1e2430; border:1px solid #2f3746; color:#e9eef3; cursor:pointer;
}
#choices button:hover{background:#273043}
.stat-check{color:#ff6b6b; font-weight:700}

/* Bag & Menu Buttons */
#bag-ui, #menu-button{
  position:fixed; bottom:12px; z-index:250;
  background:#1e2430; border:1px solid #2f3746; padding:10px 14px;
  border-radius:10px; cursor:pointer;
}
#bag-ui{left:12px}
#menu-button{right:12px}
#bag-ui:hover, #menu-button:hover{background:#273043}

/* Overlays (Bag & Menu) */
.overlay{
  position:fixed; z-index:300; background:#131720; border:1px solid #2a2f38;
  border-radius:10px; padding:12px;
}
#bag-overlay{left:12px; bottom:64px; width:260px}
#menu-overlay{right:12px; bottom:64px; width:260px}
#bag-items{list-style:none; padding:0; margin:0 0 10px}
#bag-items li{
  padding:6px 8px; margin:4px 0; background:#171a21; border:1px solid #2a2f38; border-radius:6px;
}

/* Dice Panel */
.panel.dice{text-align:center}
#dice-prompt, #dice-threshold, #dice-result{margin:.5rem 0}

#player-stats {
  position: fixed;
  top: calc(80px + 4 * 36px + 16px);
  bottom: 20px; /* leave some space from bottom of screen */
  left: 10px;
  width: 220px; /* match companions-ui width */
  background: rgba(0,0,0,0.55);
  padding: 10px;
  border: 1px solid #2a2f38;
  border-radius: 10px;
  color: #fff;
  z-index: 200;
}

#player-stats h3 {
  margin: 0 0 6px;
  font-size: 14px;
}

.stat-bar {
  margin: 6px 0;
}

.stat-bar-name {
  font-size: 12px;
  margin-bottom: 2px;
}

.stat-bar-fill {
  height: 12px;
  background: linear-gradient(90deg,#27ae60,#2ecc71);
  width: 0%;
  border-radius: 6px;
  transition: width 0.3s ease;
}

